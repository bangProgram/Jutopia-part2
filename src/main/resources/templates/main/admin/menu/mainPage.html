<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/common/layout/defaultLayout}"
      layout:fragment="content"
>
<head>
    <meta charset="UTF-8">
    <title>어드민 메뉴 화면 입니다.</title>
</head>
<body>
<h1>
  어드민 메뉴 화면 이라네요
</h1>

<div class="adminMenuButtonDiv">
    <div class="adminMenuButton" th:each="menuType : ${menuTypes}" >
        <button type="button" th:onclick="goPage([[${menuType.code}]])">
            <span th:text="${menuType.code}">Button Name</span>
        </button>
    </div>
</div>

<form action="#" name="cudForm" th:action="@{/admin/menu/cud}" th:object="${menuCudPayload}" th:method="post">
    <input type="hidden" th:field="*{menuId}" value="0">
    <input type="hidden" th:field="*{menuType}">
    <table>
        <tr>
            <td>menuNm</td>
            <td>menuUrl</td>
            <td>parentMenuId</td>
            <td>seq</td>
            <td>useYn</td>
            <td>저장</td>
        </tr>
        <tr>
            <td>
                <label><input type="text" th:field="*{menuName}" required></label>
            </td>
            <td>
                <label><input type="text" th:field="*{menuUrl}" required></label>
            </td>
            <td>
                <label><input type="text" th:field="*{parentId}"></label>
            </td>
            <td>
                <label><input type="text" th:field="*{seq}"></label>
            </td>
            <td>
                <label><input type="text" th:field="*{useYn}"></label>
            </td>
            <td>
                <button type="submit">
                    메뉴등록
                </button>
            </td>
        </tr>
    </table>
</form>

<table>

</table>
<div class="menuList">
    <ul>
        <li>menuId</li>
        <li>menuName</li>
        <li>menuUrl</li>
        <li>parentId</li>
        <li>seq</li>
        <li>useYn</li>
    </ul>
</div>
<div id="depth1" class="menuList">
    <ul th:each="menuResult : ${menuResults}">
        <li><span th:text="${menuResult.menuId}">menuId</span></li>
        <li><span th:text="${menuResult.menuName}">menuNm</span></li>
        <li><span th:text="${menuResult.menuUrl}">menuUrl</span></li>
        <li><span th:text="${menuResult.parentId}">parentId</span></li>
        <li><span th:text="${menuResult.seq}">seq</span></li>
        <li><span th:text="${menuResult.useYn}">useYn</span></li>
        <div id="depth2">
            <ul th:each="childMenu : ${menuResult.childMenu}" >
                <li><span th:text="${childMenu.menuId}">menuId</span></li>
                <li><span th:text="${childMenu.menuName}">menuNm</span></li>
                <li><span th:text="${childMenu.menuUrl}">menuUrl</span></li>
                <li><span th:text="${childMenu.parentId}">parentId</span></li>
                <li><span th:text="${childMenu.seq}">seq</span></li>
                <li><span th:text="${childMenu.useYn}">useYn</span></li>
            </ul>
        </div>
    </ul>
</div>

<!--<th:block th:replace="~{/admin/menu/listPage :: list}"></th:block>-->
<button type="button" th:onclick="|location.href='@{/admin/home/main}'|">
    뒤로가기
</button>

<style>
.menuList {
    width: 100%;
}

.menuList > ul {
    width: 100%;
}

.menuList > ul > li {
    display: inline-block;
    width: 15.6%;
}

#depth2 > ul {
    width: 100%;
}

#depth2 > ul > li {
    display: inline-block;
    width: 15.6%;
}
</style>

<script>
    function goPage(menuType){
        location.href = "/admin/menu/main/"+menuType;
    }
</script>
</body>
</html>